<section class="text-center text-lg-start">

  <div class="container py-4">
    <div class="row g-0 align-items-center">
      <div class="col-lg-6 mb-5 mb-lg-0">
        <div class="card cascading-right" style="
            background: hsla(0, 0%, 100%, 0.55);
            backdrop-filter: blur(30px);
            ">
          <div class="card-body p-5 shadow-5 text-center">
            <h2 class="fw-bold mb-5">Sign Up</h2>
            <form [formGroup]="rfAddUser" (ngSubmit)="create()">
              <div class="row">
                <div class="col-md-6 mb-4">
                  <div class="form-outline">
                    <label style="text-align: left ; margin-right: 154px; " class="form-label" for="form3Example1">Full Name:</label>
                    <input type="text" id="form3Example1" class="form-control" formControlName="name"
                           [ngClass]="(rfAddUser.controls['name'].touched)?
                      rfAddUser.controls['name'].invalid?'is-invalid':'is-valid':''"/>
                    <div *ngIf="rfAddUser.controls['name'].hasError('required') &&
                                     rfAddUser.controls['name'].touched" style="color: red ; float:left;">
                      Name cannot be empty.
                    </div>
                    <div *ngIf="rfAddUser.controls['name'].hasError('pattern') &&
                                     rfAddUser.controls['name'].touched && !rfAddUser.controls['name'].hasError('maxlength')"
                         style="color: red ; float:left;">
                      Name must be in the correct format. For example: Nguyễn Văn A
                    </div>
                    <div *ngIf="rfAddUser.controls['name'].hasError('maxlength') &&
                                     rfAddUser.controls['name'].touched" style="color: red ; float:left;">
                      Name cannot be too long.
                    </div>
                  </div>
                </div>
                <div class="col-md-6 mb-4">
                  <div class="form-outline">
                    <label style="text-align: left ; margin-right: 137px; " class="form-label" for="form3Example2">Date of Birth:</label>
                    <input type="date" id="form3Example2" class="form-control" formControlName="birthDay"
                           [ngClass]="(rfAddUser.controls['birthDay'].touched)?
                             (rfAddUser.controls['birthDay'].invalid|| rfAddUser.errors?.['checkBirthDay'])?'is-invalid':'is-valid':''"/>
                    <div *ngIf="rfAddUser.controls['birthDay'].hasError('required') &&
                                     rfAddUser.controls['birthDay'].touched" style="color: red ; float:left;">
                      Date of birth cannot be empty.
                    </div>
                    <div *ngIf="rfAddUser.errors?.['checkBirthDay']"
                         style="color: red ; float:left;">
                      Age must be between 18 and 100.
                    </div>
                  </div>
                </div>
              </div>

              <div class="form-outline mb-4">
                <label style="text-align: left ;margin-right: 541px; " class="form-label"
                       for="form3Example3">Email:</label>
                <input #checkName (ngModelChange)="checkEmail(checkName.value)" type="email" id="form3Example3"
                       class="form-control" formControlName="email"
                       [ngClass]="(rfAddUser.controls['email'].touched)?
                     (rfAddUser.controls['email'].invalid|| rfAddUser.errors?.['isExist'])?'is-invalid':'is-valid':''"/>
                <div *ngIf="rfAddUser.controls['email'].hasError('required') &&
                                     rfAddUser.controls['email'].touched" style="color: red ; float:left;">
                  Email cannot be empty.
                </div>
                <div *ngIf="rfAddUser.controls['email'].hasError('pattern') &&
                                     rfAddUser.controls['email'].touched" style="color: red ; float:left;">
                  Email must be in the correct format.
                </div>
                <div *ngIf="rfAddUser.controls['email'].hasError('invalidEmail') &&
                                     rfAddUser.controls['email'].touched" style="color: red ; float:left;">
                  Email already exists.
                </div>

              </div>

              <div class="form-outline mb-4">
                <label style="text-align: left ;margin-right: 433px; " class="form-label" for="form3Example4">Address:</label>
                <input type="text" id="form3Example4" class="form-control" formControlName="address"
                       [ngClass]="(rfAddUser.controls['address'].touched)?
                      rfAddUser.controls['address'].invalid?'is-invalid':'is-valid':''"/>
                <div *ngIf="rfAddUser.controls['address'].hasError('required') &&
                                     rfAddUser.controls['address'].touched" style="color: red ; float:left;">
                  Address cannot be empty.
                </div>
              </div>

              <div class="form-outline mb-4">
                <label style="text-align: left ;margin-right: 415px; " class="form-label" for="form3Example4">Username:</label>
                <input #checkName1 (ngModelChange)="checkUserName(checkName1.value)" type="text" id="form3Example5"
                       class="form-control" formControlName="userName"
                       [ngClass]="(rfAddUser.controls['userName'].touched)?
                             (rfAddUser.controls['userName'].invalid || rfAddUser.errors?.['areEqual'])?'is-invalid':'is-valid':''"/>
                <div *ngIf="rfAddUser.controls['userName'].hasError('required') &&
                                     rfAddUser.controls['userName'].touched" style="color: red ; float:left;">
                  Username cannot be empty.
                </div>
                <div *ngIf="rfAddUser.controls['userName'].hasError('pattern') &&
                                     rfAddUser.controls['userName'].touched" style="color: red ; float:left;">
                  Username must be in the correct format.
                </div>
                <div *ngIf="rfAddUser.controls['userName'].hasError('invalidUserName') &&
                                     rfAddUser.controls['userName'].touched" style="color: red ; float:left;">
                  Username already exists.
                </div>
                <div *ngIf="rfAddUser.controls['userName'].hasError('minlength') &&
                                     rfAddUser.controls['userName'].touched" style="color: red ; float:left;">
                  Username cannot be too short.
                </div>
                <div *ngIf="rfAddUser.controls['userName'].hasError('maxlength') &&
                                     rfAddUser.controls['userName'].touched" style="color: red ; float:left;">
                  Username cannot be too long.
                </div>
              </div>

              <div class="form-outline mb-4">
                <label style="text-align: left ;margin-right: 415px; " class="form-label" for="form3Example4">Password:</label>
                <input type="password" id="form3Example6" class="form-control" formControlName="password"
                       [ngClass]="(rfAddUser.controls['password'].touched)?
                        rfAddUser.controls['password'].invalid?'is-invalid':'is-valid':''"/>
                <div *ngIf="rfAddUser.controls['password'].hasError('required') &&
                                     rfAddUser.controls['password'].touched" style="color: red ; float:left;">
                  Password cannot be empty.
                </div>
                <div *ngIf="rfAddUser.controls['password'].hasError('pattern') &&
                                     rfAddUser.controls['password'].touched" style="color: red ; float:left;">
                  Password is not in the correct format.
                </div>
                <div *ngIf="rfAddUser.controls['password'].hasError('minlength') &&
                                     rfAddUser.controls['password'].touched" style="color: red ; float:left;">
                  Password is too short.
                </div>
                <div *ngIf="rfAddUser.controls['password'].hasError('maxlength') &&
                                     rfAddUser.controls['password'].touched" style="color: red ; float:left;">
                  Password is too long.
                </div>
              </div>

              <div class="form-outline mb-4">
                <label style="text-align: left ;margin-right: 415px; " class="form-label" for="form3Example4">Confirm Password:</label>
                <input type="password" id="form3Example7" class="form-control" formControlName="confirmPassword"
                       [ngClass]="(rfAddUser.controls['confirmPassword'].touched)?
                       (rfAddUser.controls['password'].invalid|| rfAddUser.errors?.['reConfirmPass'])?'is-invalid':'is-valid':''">
                <div *ngIf="rfAddUser.controls['confirmPassword'].hasError('required') &&
                                     rfAddUser.controls['confirmPassword'].touched" style="color: red ; float:left;">
                  Password cannot be empty.
                </div>
                <div
                  *ngIf="rfAddUser.hasError('reConfirmPass') && rfAddUser.controls['confirmPassword'].touched"
                  style="color: red ; float:left;">
                  Passwords do not match.
                </div>
              </div>

              <button type="submit" class="btn btn-primary btn-block mb-4" [disabled]="(!rfAddUser.valid)">
                Sign Up
              </button>

              <p>Want to go back to Login? <a routerLink="/login" class="link-info">Here</a></p>


            </form>
          </div>
        </div>
      </div>
      <div class="col-lg-6 mb-5 mb-lg-0">
        <img src="https://i.pinimg.com/originals/eb/58/cc/eb58cc5cfecde2911c1bd9bb8df69ce7.jpg"
             class="w-100 rounded-4 shadow-4"
             alt=""/>
      </div>
    </div>
  </div>
</section>

